// if the environment variables aren’t actually loaded into process.env, then having them written down in a .env file or declared somewhere doesn’t matter. 
// Node.js won’t magically know about them unless you export them into the runtime environment or explicitly load them with a library like dotenv.

// env.mjs
import dotenv from "dotenv";

// Load variables from .env file into process.env
dotenv.config();

// Check if variables are actually loaded
if (!process.env.AI_URL) {
  throw new Error("Missing AI_URL. You may have defined it, but it's not loaded into process.env.");
}

if (!process.env.AI_KEY) {
  throw new Error("Missing AI_KEY. Make sure it's exported or loaded via dotenv.");
}

if (!process.env.AI_MODEL) {
  throw new Error("Missing AI_MODEL. Define it in your environment or .env file.");
}

// Export config object
export const config = {
  aiUrl: process.env.AI_URL,
  aiKey: process.env.AI_KEY,
  aiModel: process.env.AI_MODEL,
  nodeEnv: process.env.NODE_ENV || "development",
  port: parseInt(process.env.PORT, 10) || 3000,
  debug: process.env.DEBUG === "true",
  logLevel: process.env.LOG_LEVEL || "info",
};

    //If we just want to import a normal module dont use dotenv but if wanna .env we must use it.

              // env.mjs
              import dotenv from "dotenv";
              import path from "path";
              import { fileURLToPath } from "url";

              // Resolve the current directory of env.mjs
              const __filename = fileURLToPath(import.meta.url);
              const __dirname = path.dirname(__filename);

              // Load .env explicitly from project root (adjust path if needed)
              dotenv.config({ path: path.resolve(__dirname, "../.env") });

              // Validate required environment variables
              const requiredVars = ["AI_URL", "AI_KEY", "AI_MODEL", "NODE_ENV", "PORT"];

              for (const key of requiredVars) {
                if (!process.env[key]) {
                  throw new Error(`Missing ${key}. Make sure it's defined in your .env file or exported.`);
                }
              }

              export const config = {
                aiUrl: process.env.AI_URL,
                aiKey: process.env.AI_KEY,
                aiModel: process.env.AI_MODEL,
                nodeEnv: process.env.NODE_ENV || "development",
                port: parseInt(process.env.PORT, 10) || 3000,
                debug: process.env.DEBUG === "true",
                logLevel: process.env.LOG_LEVEL || "info",
              };

